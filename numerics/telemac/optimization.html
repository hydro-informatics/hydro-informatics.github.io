

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Optimization &#8212; Hydro-Informatics</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script src="../../_static/tabs.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'numerics/telemac/optimization';</script>
    <link rel="canonical" href="https://hydro-informatics.com/numerics/telemac/optimization.html" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="OpenFOAM" href="../openfoam/of-intro.html" />
    <link rel="prev" title="Friction (Roughness) Zones" href="roughness.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../../_static/icon.jpg" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../../_static/icon.jpg" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../lectures/classroom.html">The Virtual Classroom</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../lectures/principles.html">Principles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../lectures/overview.html">Lectures and Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../lectures/take-seat.html">Take a Seat</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../get-started/software.html">Software Resources</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/vm.html">Virtual Machines and Linux</a></li>

<li class="toctree-l2"><a class="reference internal" href="../../get-started/ide.html">Integrated Development Environments (IDEs)</a></li>



<li class="toctree-l2"><a class="reference internal" href="../../python-basics/pyinstall.html">Python (Installation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/git.html">Version Control : git</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/geo.html">Geospatial Software</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/install-openfoam.html">OpenFOAM (Installation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/install-telemac.html">TELEMAC (Installation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/others.html">Other Software Resources</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Python Basics</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../python-basics/python.html">First Steps</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../jupyter/pybase.html">Hello Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../jupyter/pyerror.html">Errors, Logging, and Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../jupyter/pyloop.html">Loops and Conditional Statements</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../python-basics/modularize.html">Object Orientation</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../jupyter/pyfun.html">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../jupyter/pypckg.html">Packages, Modules and Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../jupyter/classes.html">Object Orientation and Classes</a></li>

</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../python-basics/data-handling.html">Data and File Handling</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../jupyter/pynum.html">Data Files, NumPy &amp; Pandas</a></li>





<li class="toctree-l2"><a class="reference internal" href="../../jupyter/xml.html">Structured Data (XML, xlsx &amp; JSON)</a></li>

<li class="toctree-l2"><a class="reference internal" href="../../jupyter/pyplot.html">Plotting</a></li>

</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../jupyter/pystyle.html">Code Style and Conventions</a></li>

<li class="toctree-l1"><a class="reference internal" href="../../jupyter/gui.html">Graphical User Interfaces (GUIs)</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../exercises/python-exercises.html">Python Exercises</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../exercises/ex-ms.html">1d Hydraulics (Manning-Strickler Formula)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exercises/ex-sp.html">Reservoir Volume (Sequent Peak Algorithm)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exercises/ex-floods.html">Flood Return Periods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exercises/ex-sediment.html">1d Sediment Transport</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../exercises/ex-gui.html">Create a GUI</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Geospatial Analysis</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../geopy/geospatial-data.html">Geospatial Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../geopy/use-qgis.html">QGIS Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../geopy/drone-processing.html">Process Drone (UAV) Imagery</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../geopy/geo-python.html">Geospatial Python</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../geopy/geo-pckg.html">Geospatial Open Source Python Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../jupyter/geo-shp.html">Shapefile (Vector) Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../jupyter/geo-raster.html">Raster (Grid) Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../jupyter/geo-convert.html">Vectorize and Rasterize</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../jupyter/geo-arcpy.html">The Commercial arcpy Library</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../exercises/geo-exercises.html">Exercises</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../exercises/ex-geco.html">Script a Habitat Suitability Map</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Numerical Modeling</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../numerical-modeling.html">Principles</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../basement/basement.html">BASEMENT</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../pre-qgis-bm.html">Pre-processing with QGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basement/basement2d.html">Run and Check a Steady 2d Simulation</a></li>



</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="telemac.html">TELEMAC</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../pre-slf-tm.html">Pre-processing</a></li>


<li class="toctree-l2 has-children"><a class="reference internal" href="telemac2d.html">Telemac2d</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="telemac2d-steady.html">Steady 2d</a></li>



<li class="toctree-l3"><a class="reference internal" href="telemac2d-unsteady.html">Unsteady 2d</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="telemac3d.html">Telemac3d</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="telemac3d-slf.html">Steady 3d (SLF - Selafin)</a></li>
<li class="toctree-l3"><a class="reference internal" href="telemac3d-med.html">Steady 3d (MED and Salome)</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="telemac-gaia.html">Gaia (Morphodynamics)</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="gaia-coupling.html">Introduction and Coupling</a></li>
<li class="toctree-l3"><a class="reference internal" href="gaia-basics.html">Basic Setup of Gaia</a></li>
<li class="toctree-l3"><a class="reference internal" href="gaia-bedload.html">Bedload</a></li>
<li class="toctree-l3"><a class="reference internal" href="gaia-suspended.html">Suspended Load</a></li>
<li class="toctree-l3"><a class="reference internal" href="gaia-run.html">Run and Analyze</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="mass-balance-bc.html">Boundaries &amp; Mass Convergence</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="boundaries.html">Boundary Conditions</a></li>
<li class="toctree-l3"><a class="reference internal" href="convergence.html">Convergence (Quantitative)</a></li>
<li class="toctree-l3"><a class="reference internal" href="mass-optimization.html">Mass Conservation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="roughness.html">Friction (Roughness) Zones</a></li>




<li class="toctree-l2 current active"><a class="current reference internal" href="#">Optimization</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../openfoam/of-intro.html">OpenFOAM</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../openfoam/of-tutorial-multiphase.html">Multiphase Solver (interFoam Tutorial)</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../openfoam/of-tutorial-multiphase-mesh.html">Geometry and Mesh Generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../openfoam/of-tutorial-multiphase-setup.html">Case set-up</a></li>




<li class="toctree-l3"><a class="reference internal" href="../openfoam/of-tutorial-multiphase-run.html">Run OpenFOAM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../openfoam/of-tutorial-multiphase-post.html">Post-processing</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Machine Learning (ML)</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../datascience/machinelearning.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datascience/dimensional-analysis.html">About Data Analysis</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../datascience/supervised-learning.html">Supervised Learning</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-17"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../datascience/linear-models.html">Linear Models</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-18"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../datascience/linear-classification.html">Linear Classification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../datascience/linear-regression.html">Linear Regression</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../datascience/non-linear-models.html">Non-linear models</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-19"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../datascience/kernelized-supervised-models.html">Kernels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../datascience/morphology-predictor-svm.html">Support Vector Machine (SVM)</a></li>


<li class="toctree-l3"><a class="reference internal" href="../../datascience/three-based-methods.html">Three-based methods (Coming soon)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../datascience/neural-networks.html">Neural Networks (Supervised)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../datascience/unsupervised-learning.html">Unsupervised Learning (Coming soon)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../documentation/how-to-document.html">How to Markdown and Document</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation/notation.html">Notation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation/bibliography.html">References</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../exercises/docs-exercises.html">Exercises</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-20"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../exercises/ex-git.html">Git and Markdown</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Troubleshoot</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../troubleshoot/dbg-programming.html">Programming Tools and IDEs</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-21"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshoot/dbg-anaconda.html">Debugging Anaconda</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshoot/dbg-python.html">Debugging Python Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshoot/dbg-jupyter.html">Debugging Jupyter</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../troubleshoot/dbg-numerical-models.html">Numerical Models</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-22"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshoot/dbg-basement.html">Debugging BASEMENT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshoot/dbg-telemac.html">Debugging TELEMAC</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../troubleshoot/dbg-os.html">Operating Systems (Linux and VMs)</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-23"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshoot/dbg-linux.html">Debugging Debian Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshoot/dbg-vm.html">Debugging Virtual Machines</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../troubleshoot/dbg-scilife.html">Science Life Hacks</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-24"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshoot/dbg-gis.html">GIS, CRS and Projections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshoot/dbg-zotero.html">Zotero Utilities</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">About</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../terms/license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../terms/disclaimer.html">Disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation/contributors.html">Contributors</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/hydro-informatics/jupyter-python-course" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/numerics/telemac/optimization.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Optimization</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-time">Computing Time</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#stability-physical-correctness">Stability &amp; Physical Correctness</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#accuracy">Accuracy</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-time-steps-and-cfl-condition">Variable Time-Steps and CFL Condition</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#implicitation">Implicitation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#surface-oscillations-wiggles">Surface Oscillations (Wiggles)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#residual-mass-errors">Residual Mass Errors</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#divergence">Divergence</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tidal-flats">Tidal Flats</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#discretization-scheme">Discretization Scheme</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exceeding-maximum-iterations">Exceeding Maximum Iterations</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesian-calibration">Bayesian Calibration</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="optimization">
<span id="telemac-opti"></span><h1>Optimization<a class="headerlink" href="#optimization" title="Permalink to this headline">#</a></h1>
<p>A numerical model calibration should yield a computationally functional, and physically, at least a reasonably accurate model. Model calibration has already been covered in the <a class="reference internal" href="telemac2d-steady.html#tm2d-post-export"><span class="std std-ref">results analysis section</span></a> of the steady Telemac2d tutorial. This chapter first provides more tips to increase the physical correctness of a model, especially regarding the conservation of mass, which can sometimes be challenging in Telemac. Additionally, advanced calibration methods that use supervised machine learning to improve physical model accuracy are presented.</p>
<div class="admonition-goals-and-requirements admonition">
<p class="admonition-title">Goals and requirements</p>
<p>This tutorial explains how a Telemac model can be refined by improving its computational stability, and physical correctness. Thus, it is relevant after setting up a Telemac model, as explained for a simple case in the <a class="reference internal" href="telemac2d-steady.html#telemac2d-steady"><span class="std std-ref">steady 2d chapter</span></a>.</p>
</div>
<section id="computing-time">
<h2>Computing Time<a class="headerlink" href="#computing-time" title="Permalink to this headline">#</a></h2>
<p>Some of the keywords in TELEMAC’s steering (<code class="docutils literal notranslate"><span class="pre">*.cas</span></code>) file affect computation speed.</p>
<ul class="simple">
<li><p>Use the <a class="reference internal" href="telemac2d-steady.html#tm2d-accuracy"><span class="std std-ref">ACCURACY and MAXIMUM ITERATION</span></a> keywords to yield faster convergence.</p></li>
<li><p>Deactivate <code class="docutils literal notranslate"><span class="pre">TIDAL</span> <span class="pre">FLATS</span></code>, even though deactivating <a class="reference internal" href="telemac2d-steady.html#tm2d-tidal"><span class="std std-ref">tidal flats</span></a> can not be recommended to yield physically meaningful and stable models.</p></li>
<li><p>When using the GMRES solver (<code class="docutils literal notranslate"><span class="pre">SOLVER</span> <span class="pre">:</span> <span class="pre">7</span></code>), varying the <a class="reference internal" href="telemac2d-steady.html#tm2d-solver-pars"><span class="std std-ref">solver options</span></a> may aid to reduce the total calculation time.</p></li>
<li><p>Make sure to use the default <code class="docutils literal notranslate"><span class="pre">MATRIX</span> <span class="pre">STORAGE</span> <span class="pre">:</span> <span class="pre">3</span></code> keyword.</p></li>
<li><p>Use an earlier simulation (e.g., with a coarser mesh) to initiate the model with the <code class="docutils literal notranslate"><span class="pre">COMPUTATION</span> <span class="pre">CONTINUED</span> <span class="pre">:</span> <span class="pre">YES</span></code> and <code class="docutils literal notranslate"><span class="pre">PREVIOUS</span> <span class="pre">COMPUTATION</span> <span class="pre">FILE</span> <span class="pre">:</span> <span class="pre">*.slf</span></code> keywords (see section 4.1.3 in the <a class="reference external" href="https://gitlab.pam-retd.fr/otm/telemac-mascaret/-/blob/v8p4r0/documentation/telemac2d/user/telemac2d_user_v8p4.pdf">Telemac2d manual</a>).</p></li>
</ul>
<p>Moreover, Telemac2d provides a way to stop a simulation (step) when fluxes stabilize. To enable this feature, add the following block in the steering (<code class="docutils literal notranslate"><span class="pre">*.cas</span></code>) file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span> <span class="n">steady</span> <span class="n">state</span> <span class="n">stop</span> <span class="n">criteria</span> <span class="ow">in</span> <span class="n">steering</span><span class="o">.</span><span class="n">cas</span>
<span class="n">STOP</span> <span class="n">IF</span> <span class="n">A</span> <span class="n">STEADY</span> <span class="n">STATE</span> <span class="n">IS</span> <span class="n">REACHED</span> <span class="p">:</span> <span class="n">YES</span> <span class="o">/</span> <span class="n">default</span> <span class="ow">is</span> <span class="n">NO</span>
<span class="n">STOP</span> <span class="n">CRITERIA</span> <span class="p">:</span> <span class="mf">1.E-3</span><span class="p">;</span><span class="mf">1.E-3</span><span class="p">;</span><span class="mf">1.E-3</span> <span class="o">/</span> <span class="n">use</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">three</span> <span class="n">values</span> <span class="o">-</span> <span class="n">defaults</span> <span class="n">are</span> <span class="mf">1.E-4</span>
</pre></div>
</div>
<p>However, stop criteria are not functional for non-stationary flows (e.g., <span id="id1">Von Karmàn [<a class="reference internal" href="../../documentation/bibliography.html#id596" title="Theodor Von Karmàn. Mechanische ähnlichkeit und Turbulenz [Mechanical similarity and turbulence]. In Third International Congress for Applied Mechanics, volume 1, pages 79–93. Stockholm, 1930.">VK30</a>]</span> vortex street downstream of bridge piers). Read more about the convergence stop criteria in the <a class="reference external" href="https://gitlab.pam-retd.fr/otm/telemac-mascaret/-/blob/v8p4r0/documentation/telemac2d/user/telemac2d_user_v8p4.pdf">Telemac2d manual</a> (section 5.1).</p>
<div class="tip admonition">
<p class="admonition-title">More recommendations are in the user manual</p>
<p>The <a class="reference external" href="https://gitlab.pam-retd.fr/otm/telemac-mascaret/-/blob/v8p4r0/documentation/telemac2d/user/telemac2d_user_v8p4.pdf">Telemac2d manual</a> provides more recommendations for computing time, stability, and model optimization, including the mesh, in section 16.</p>
</div>
</section>
<section id="stability-physical-correctness">
<h2>Stability &amp; Physical Correctness<a class="headerlink" href="#stability-physical-correctness" title="Permalink to this headline">#</a></h2>
<section id="accuracy">
<h3>Accuracy<a class="headerlink" href="#accuracy" title="Permalink to this headline">#</a></h3>
<p>When the accuracy keywords are improperly defined, TELEMAC may not be able to end the simulation. In this case, make sure to comment out the accuracy keywords and let TELEMAC use its default values:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="w"> </span><span class="n">SOLVER</span><span class="w"> </span><span class="n">ACCURACY</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">1.E-4</span>
<span class="o">/</span><span class="w"> </span><span class="n">ACCURACY</span><span class="w"> </span><span class="n">FOR</span><span class="w"> </span><span class="n">DIFFUSION</span><span class="w"> </span><span class="n">OF</span><span class="w"> </span><span class="n">TRACERS</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">1.E-4</span>
<span class="o">/</span><span class="w"> </span><span class="n">ACCURACY</span><span class="w"> </span><span class="n">OF</span><span class="w"> </span><span class="n">K</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">1.E-6</span>
<span class="o">/</span><span class="w"> </span><span class="n">ACCURACY</span><span class="w"> </span><span class="n">OF</span><span class="w"> </span><span class="nb">EPSILON</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">1.E-6</span>
<span class="o">/</span><span class="w"> </span><span class="n">ACCURACY</span><span class="w"> </span><span class="n">OF</span><span class="w"> </span><span class="n">SPALART</span><span class="o">-</span><span class="n">ALLMARAS</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">1.E-6</span>
</pre></div>
</div>
</section>
<section id="variable-time-steps-and-cfl-condition">
<h3>Variable Time-Steps and CFL Condition<a class="headerlink" href="#variable-time-steps-and-cfl-condition" title="Permalink to this headline">#</a></h3>
<p>Unstable simulations may occur when the <a class="reference internal" href="../../documentation/glossary.html#term-CFL"><span class="xref std std-term">CFL</span></a> condition is insufficiently fulfilled. To ensure that the <a class="reference internal" href="../../documentation/glossary.html#term-CFL"><span class="xref std std-term">CFL</span></a> condition is respected, enable variable timestep calculation and use the <strong>DESIRED COURANT NUMBER</strong> keyword (default value <code class="docutils literal notranslate"><span class="pre">1</span></code>), for example:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="nb">TIME </span><span class="n">STEP</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">5</span>
<span class="n">VARIABLE</span><span class="w"> </span><span class="nb">TIME</span><span class="o">-</span><span class="n">STEP</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">YES</span>
<span class="n">DURATION</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span>
<span class="n">DESIRED</span><span class="w"> </span><span class="n">COURANT</span><span class="w"> </span><span class="n">NUMBER</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.9</span>
</pre></div>
</div>
<p>Note that the <strong>TIME STEP</strong> is still required because the <strong>GRAPHIC PRINTOUT PERIOD</strong> is a multiple of the defined <strong>TIME STEP</strong>.</p>
<div class="admonition-use-the-duration-keyword admonition">
<p class="admonition-title">Use the DURATION keyword</p>
<p>A variable timestep calculation may run eternally. Assigning the <strong>DURATION</strong> keyword avoids such eternal runs.</p>
</div>
</section>
<section id="implicitation">
<h3>Implicitation<a class="headerlink" href="#implicitation" title="Permalink to this headline">#</a></h3>
<p>To increase model stability, modify the following variables or make sure that the variables are within reasonable ranges in the <em>CAS</em> file:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">IMPLICITATION</span> <span class="pre">FOR</span> <span class="pre">DEPTH</span></code> should be between <code class="docutils literal notranslate"><span class="pre">0.5</span></code> and <code class="docutils literal notranslate"><span class="pre">0.6</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IMPLICITATION</span> <span class="pre">FOR</span> <span class="pre">VELOCITIES</span></code> should be between <code class="docutils literal notranslate"><span class="pre">0.5</span></code> and <code class="docutils literal notranslate"><span class="pre">0.6</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IMPLICITATION</span> <span class="pre">FOR</span> <span class="pre">DIFFUSION</span></code> should be <code class="docutils literal notranslate"><span class="pre">1.</span></code> or smaller.</p></li>
</ul>
</section>
<section id="surface-oscillations-wiggles">
<h3>Surface Oscillations (Wiggles)<a class="headerlink" href="#surface-oscillations-wiggles" title="Permalink to this headline">#</a></h3>
<p>When physically non-meaningful gradients or oscillations occur at the water surface or the bathymetry has steep slopes, the following keyword settings may help:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">FREE</span> <span class="pre">SURFACE</span> <span class="pre">GRADIENT</span></code> - default is <code class="docutils literal notranslate"><span class="pre">1.0</span></code>, but it can be reduced to <code class="docutils literal notranslate"><span class="pre">0.1</span></code> to achieve stability (nevertheless, start with going incrementally down, such as a value of <code class="docutils literal notranslate"><span class="pre">0.9</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DISCRETIZATIONS</span> <span class="pre">IN</span> <span class="pre">SPACE</span> <span class="pre">:</span> <span class="pre">12;11</span></code> - uses quasi-bubble spatial discretization with 4-node triangles for velocity.</p></li>
</ul>
</section>
<section id="residual-mass-errors">
<h3>Residual Mass Errors<a class="headerlink" href="#residual-mass-errors" title="Permalink to this headline">#</a></h3>
<p>To reduce residual mass errors use in the steering file:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="n">CONTINUITY</span><span class="w"> </span><span class="n">CORRECTION</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">YES</span>
</pre></div>
</div>
</section>
<section id="divergence">
<h3>Divergence<a class="headerlink" href="#divergence" title="Permalink to this headline">#</a></h3>
<p>To limit divergence issues, use the <code class="docutils literal notranslate"><span class="pre">CONTROL</span> <span class="pre">OF</span> <span class="pre">LIMITS</span></code> and <code class="docutils literal notranslate"><span class="pre">LIMIT</span> <span class="pre">VALUES</span></code> keywords. The <code class="docutils literal notranslate"><span class="pre">LIMIT</span> <span class="pre">VALUES</span></code> keyword is a list of 8 integers for minimum and maximum values for H, U, V, and T (tracers). The implementation in the steering file looks like this:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="n">CONTROL</span><span class="w"> </span><span class="n">OF</span><span class="w"> </span><span class="n">LIMITS</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">YES</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="k">is </span><span class="n">NO</span>
<span class="n">LIMIT</span><span class="w"> </span><span class="n">VALUES</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="mi">1000</span><span class="p">;</span><span class="mi">9000</span><span class="p">;</span><span class="o">-</span><span class="mi">1000</span><span class="p">;</span><span class="mi">1000</span><span class="p">;</span><span class="o">-</span><span class="mi">1000</span><span class="p">;</span><span class="mi">1000</span><span class="p">;</span><span class="o">-</span><span class="mi">1000</span><span class="p">;</span><span class="mi">1000</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">mins</span><span class="w"> </span><span class="nb">and max </span><span class="n">for</span><span class="w"> </span><span class="n">H</span><span class="p">,</span><span class="w"> </span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="p">,</span><span class="w"> </span><span class="n">tracer</span>
</pre></div>
</div>
</section>
<section id="tidal-flats">
<h3>Tidal Flats<a class="headerlink" href="#tidal-flats" title="Permalink to this headline">#</a></h3>
<p>Wetting and drying of grid cells, for instance, during a simulation of dam breaks or flood hydrographs, may lead to model instability. While the <a class="reference internal" href="telemac2d-steady.html#tm2d-tidal"><span class="std std-ref">Tidal Flats</span></a> section in the Telemac2d steady modeling tutorial suggests physically and computationally meaningful keyword option combinations, section 16.5 in the <a class="reference external" href="https://gitlab.pam-retd.fr/otm/telemac-mascaret/-/blob/v8p4r0/documentation/telemac2d/user/telemac2d_user_v8p4.pdf">Telemac2d manual</a> recommends using the following settings in the steering file as conservative choices from the BAW’s Wesel example.</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="n">VELOCITY</span><span class="w"> </span><span class="n">PROFILES</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="mi">0</span>
<span class="n">TURBULENCE</span><span class="w"> </span><span class="n">MODEL</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="n">VELOCITY</span><span class="w"> </span><span class="n">DIFFUSIVITY</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">2.</span>
<span class="n">TIDAL</span><span class="w"> </span><span class="n">FLATS</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">YES</span>
<span class="n">OPTION</span><span class="w"> </span><span class="n">FOR</span><span class="w"> </span><span class="n">THE</span><span class="w"> </span><span class="n">TREATMENT</span><span class="w"> </span><span class="n">OF</span><span class="w"> </span><span class="n">TIDAL</span><span class="w"> </span><span class="n">FLATS</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="n">TREATMENT</span><span class="w"> </span><span class="n">OF</span><span class="w"> </span><span class="n">NEGATIVE</span><span class="w"> </span><span class="n">DEPTHS</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="n">FREE</span><span class="w"> </span><span class="n">SURFACE</span><span class="w"> </span><span class="n">GRADIENT</span><span class="w"> </span><span class="n">COMPATIBILITY</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.9</span>
<span class="n">H</span><span class="w"> </span><span class="n">CLIPPING</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">NO</span>
<span class="k">TYPE </span><span class="n">OF</span><span class="w"> </span><span class="n">ADVECTION</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="mi">5</span>
<span class="n">SUPG</span><span class="w"> </span><span class="n">OPTION</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="mi">0</span>
<span class="n">TREATMENT</span><span class="w"> </span><span class="n">OF</span><span class="w"> </span><span class="n">THE</span><span class="w"> </span><span class="n">LINEAR</span><span class="w"> </span><span class="nb">SYSTEM</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="n">SOLVER</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="n">PRECONDITIONING</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="n">SOLVER</span><span class="w"> </span><span class="n">ACCURACY</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">1.E-5</span>
<span class="n">CONTINUITY</span><span class="w"> </span><span class="n">CORRECTION</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">YES</span>
</pre></div>
</div>
<div class="tip admonition">
<p class="admonition-title">How to find the Wesel example</p>
<p>This example is typically installed in the following directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">telemac</span><span class="o">/</span><span class="n">v8p4</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">telemac2d</span><span class="o">/</span><span class="n">wesel</span><span class="o">/</span>
</pre></div>
</div>
</div>
</section>
<section id="discretization-scheme">
<h3>Discretization Scheme<a class="headerlink" href="#discretization-scheme" title="Permalink to this headline">#</a></h3>
<p>The default setting of <code class="docutils literal notranslate"><span class="pre">DISCRETIZATIONS</span> <span class="pre">IN</span> <span class="pre">SPACE</span> <span class="pre">:</span> <span class="pre">11;11</span></code> assigns a linear discretization for velocity and water depth, which is computationally fast but potentially unstable (read more in the section on <a class="reference internal" href="telemac2d-steady.html#tm2d-numerical"><span class="std std-ref">general Telemac2d parameters</span></a>). To overcome stability issues related to the discretization scheme, consider using <code class="docutils literal notranslate"><span class="pre">DISCRETIZATIONS</span> <span class="pre">IN</span> <span class="pre">SPACE</span> <span class="pre">:</span> <span class="pre">12;11</span></code>. In addition, setting <code class="docutils literal notranslate"><span class="pre">FREE</span> <span class="pre">SURFACE</span> <span class="pre">GRADIENT</span> <span class="pre">COMPATIBILITY</span> <span class="pre">:</span> <span class="pre">0.01</span></code> (i.e., close to zero) may aid in troubleshooting stability issues related to the discretization of velocity and depth.</p>
</section>
<section id="exceeding-maximum-iterations">
<h3>Exceeding Maximum Iterations<a class="headerlink" href="#exceeding-maximum-iterations" title="Permalink to this headline">#</a></h3>
<p><em>This section is co-authored by <a class="reference external" href="https://www.iws.uni-stuttgart.de/institut/team/Scolari/">Federica Scolari</a></em>.</p>
<p>A simulation may print <code class="docutils literal notranslate"><span class="pre">EXCEEDING</span> <span class="pre">MAXIMUM</span> <span class="pre">ITERATIONS</span></code> warnings in the <em>Terminal</em>:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="n">GRACJG</span><span class="w"> </span><span class="p">(</span><span class="n">BIEF</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">EXCEEDING</span><span class="w"> </span><span class="n">MAXIMUM</span><span class="w"> </span><span class="n">ITERATIONS</span><span class="p">:</span><span class="w">    </span><span class="mi">50</span><span class="w"> </span><span class="n">RELATIVE</span><span class="w"> </span><span class="nb">PRECISION</span><span class="p">:</span><span class="w">  </span><span class="mf">0.7234532E-01</span>
<span class="n">GRACJG</span><span class="w"> </span><span class="p">(</span><span class="n">BIEF</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">EXCEEDING</span><span class="w"> </span><span class="n">MAXIMUM</span><span class="w"> </span><span class="n">ITERATIONS</span><span class="p">:</span><span class="w">    </span><span class="mi">50</span><span class="w"> </span><span class="n">RELATIVE</span><span class="w"> </span><span class="nb">PRECISION</span><span class="p">:</span><span class="w">  </span><span class="n">NaN</span>
<span class="n">GRACJG</span><span class="w"> </span><span class="p">(</span><span class="n">BIEF</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">EXCEEDING</span><span class="w"> </span><span class="n">MAXIMUM</span><span class="w"> </span><span class="n">ITERATIONS</span><span class="p">:</span><span class="w">    </span><span class="mi">50</span><span class="w"> </span><span class="n">RELATIVE</span><span class="w"> </span><span class="nb">PRECISION</span><span class="p">:</span><span class="w">  </span><span class="n">NaN</span>
<span class="n">GRACJG</span><span class="w"> </span><span class="p">(</span><span class="n">BIEF</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">EXCEEDING</span><span class="w"> </span><span class="n">MAXIMUM</span><span class="w"> </span><span class="n">ITERATIONS</span><span class="p">:</span><span class="w">    </span><span class="mi">50</span><span class="w"> </span><span class="n">RELATIVE</span><span class="w"> </span><span class="nb">PRECISION</span><span class="p">:</span><span class="w">  </span><span class="n">NaN</span>
<span class="n">GRACJG</span><span class="w"> </span><span class="p">(</span><span class="n">BIEF</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">EXCEEDING</span><span class="w"> </span><span class="n">MAXIMUM</span><span class="w"> </span><span class="n">ITERATIONS</span><span class="p">:</span><span class="w">    </span><span class="mi">50</span><span class="w"> </span><span class="n">RELATIVE</span><span class="w"> </span><span class="nb">PRECISION</span><span class="p">:</span><span class="w">  </span><span class="n">NaN</span>
<span class="n">GRACJG</span><span class="w"> </span><span class="p">(</span><span class="n">BIEF</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">EXCEEDING</span><span class="w"> </span><span class="n">MAXIMUM</span><span class="w"> </span><span class="n">ITERATIONS</span><span class="p">:</span><span class="w">    </span><span class="mi">50</span><span class="w"> </span><span class="n">RELATIVE</span><span class="w"> </span><span class="nb">PRECISION</span><span class="p">:</span><span class="w">  </span><span class="n">NaN</span>
<span class="n">GRACJG</span><span class="w"> </span><span class="p">(</span><span class="n">BIEF</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">EXCEEDING</span><span class="w"> </span><span class="n">MAXIMUM</span><span class="w"> </span><span class="n">ITERATIONS</span><span class="p">:</span><span class="w">    </span><span class="mi">50</span><span class="w"> </span><span class="n">RELATIVE</span><span class="w"> </span><span class="nb">PRECISION</span><span class="p">:</span><span class="w">  </span><span class="n">NaN</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">EXCEEDING</span> <span class="pre">MAXIMUM</span> <span class="pre">ITERATIONS</span></code> warnings may occur when using <strong>SCHEME FOR ADVECTION OF […]</strong> keywords with the values <code class="docutils literal notranslate"><span class="pre">3</span></code>, <code class="docutils literal notranslate"><span class="pre">4</span></code>, <code class="docutils literal notranslate"><span class="pre">5</span></code>, <code class="docutils literal notranslate"><span class="pre">13</span></code>, or <code class="docutils literal notranslate"><span class="pre">14</span></code>. The reason is that these schemes yield <a class="reference internal" href="../../documentation/glossary.html#term-CFL"><span class="xref std std-term">CFL</span></a> conditions of less than 1 by triggering iterative, adaptive timestepping. To troubleshoot <code class="docutils literal notranslate"><span class="pre">EXCEEDING</span> <span class="pre">MAXIMUM</span> <span class="pre">ITERATIONS</span></code> warnings, try the following options:</p>
<ul class="simple">
<li><p>Decrease the timestep gradually.</p></li>
<li><p>Decrease the solver accuracy (e.g. from <code class="docutils literal notranslate"><span class="pre">1.E-8</span></code> to <code class="docutils literal notranslate"><span class="pre">1.E-6</span></code>).</p></li>
<li><p>Use other values for <code class="docutils literal notranslate"><span class="pre">SCHEME</span> <span class="pre">FOR</span> <span class="pre">ADVECTION</span> <span class="pre">OF</span> <span class="pre">[...]</span></code>.</p></li>
<li><p>Increase the <code class="docutils literal notranslate"><span class="pre">MAXIMUM</span> <span class="pre">NUMBER</span> <span class="pre">OF</span> <span class="pre">ITERATIONS</span> <span class="pre">FOR</span> <span class="pre">SOLVER</span></code> keyword value, but do not exceed <code class="docutils literal notranslate"><span class="pre">200</span></code>.</p></li>
<li><p>Change the <code class="docutils literal notranslate"><span class="pre">VELOCITY</span> <span class="pre">PROFILE</span></code> type (read this eBook’s instructions for <a class="reference internal" href="telemac2d-steady.html#tm2d-bounds"><span class="std std-ref">2d</span></a> or <a class="reference internal" href="telemac3d-slf.html#tm3d-slf-boundaries"><span class="std std-ref">3d</span></a>).</p></li>
<li><p>Cold starts (i.e., <a class="reference internal" href="telemac2d-steady.html#tm2d-init-dry"><span class="std std-ref">defining initial conditions with the INITIAL CONDITIONS keyword in the steering file</span></a>) may not converge. Therefore, either</p>
<ul>
<li><p>increase the <code class="docutils literal notranslate"><span class="pre">PRESCRIBED</span> <span class="pre">FLOWRATES</span></code> gradually (or in a <a class="reference internal" href="telemac2d-unsteady.html#tm2d-liq-file"><span class="std std-ref">liquid boundary file</span></a>), or</p></li>
<li><p><a class="reference internal" href="../pre-slf-tm.html#bk-create-slf"><span class="std std-ref">create an initial conditions Selafin file</span></a>, assigning a water depth at the inlet nodes.</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="bayesian-calibration">
<h2>Bayesian Calibration<a class="headerlink" href="#bayesian-calibration" title="Permalink to this headline">#</a></h2>
<div class="admonition-requirements admonition">
<p class="admonition-title">Requirements</p>
<p>Be comfortable with <a class="reference internal" href="../../datascience/supervised-learning.html#supervisedlearning"><span class="std std-ref">supervised learning concepts (read on hydro-informatics.com)</span></a>, and familiarize with the required vocabulary.</p>
</div>
<div class="admonition-this-section-is-under-construction admonition">
<p class="admonition-title">This section is under construction</p>
<p>Until we have found the time to describe Bayesian calibration with the usual <a class="reference external" href="http://hydro-informatics.com">hydro-informatics.com</a> quality, we invite you to take a look at our open-access publication on coupling Telemac with surrogate models for Bayesian optimizations: <span id="id2">Mouris <em>et al.</em> [<a class="reference internal" href="../../documentation/bibliography.html#id1421" title="Kilian Mouris, Eduardo Acuna Espinoza, Sebastian Schwindt, Farid Mohammadi, Stefan Haun, Silke Wieprecht, and Sergey Oladyshkin. Stability criteria for Bayesian calibration of reservoir sedimentation models. Modeling Earth Systems and Environment, pages 1–19, 2023. URL: https://doi.org/10.1007/s40808-023-01712-7, doi:10.1007/s40808-023-01712-7.">MAES+23</a>]</span>. More information can also be found in <span id="id3">Schwindt <em>et al.</em> [<a class="reference internal" href="../../documentation/bibliography.html#id1422" title="Sebastian Schwindt, Sergio Callau Medrano, Kilian Mouris, Felix Beckers, Stefan Haun, Wolfgang Nowak, Silke Wieprecht, and Sergey Oladyshkin. Bayesian Calibration Points to Misconceptions in Three-Dimensional Hydrodynamic Reservoir Modeling. Water Resources Research, 59(3):e2022WR033660, 2023. URL: https://onlinelibrary.wiley.com/doi/abs/10.1029/2022WR033660, doi:10.1029/2022WR033660.">SCMM+23</a>]</span>, <span id="id4">Mohammadi <em>et al.</em> [<a class="reference internal" href="../../documentation/bibliography.html#id1041" title="Farid Mohammadi, Rebekka Kopmann, Anneli Guthke, Sergey Oladyshkin, and Wolfgang Nowak. Bayesian selection of hydro-morphodynamic models under computational time constraints. Advances in Water Resources, 117:53–64, 2018. URL: http://www.sciencedirect.com/science/article/pii/S0309170817311909, doi:https://doi.org/10.1016/j.advwatres.2018.05.007.">MKG+18</a>]</span>, and <span id="id5">Oladyshkin <em>et al.</em> [<a class="reference internal" href="../../documentation/bibliography.html#id1423" title="Sergey Oladyshkin, Farid Mohammadi, Ilja Kroeker, and Wolfgang Nowak. Bayesian3 Active Learning for the Gaussian Process Emulator Using Information Theory. Entropy, 22(8):890, 2020. URL: https://www.mdpi.com/1099-4300/22/8/890, doi:10.3390/e22080890.">OMKN20</a>]</span>.</p>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "hydro-informatics/jupyter-python-course",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./numerics/telemac"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="roughness.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Friction (Roughness) Zones</p>
      </div>
    </a>
    <a class="right-next"
       href="../openfoam/of-intro.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">OpenFOAM</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-time">Computing Time</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#stability-physical-correctness">Stability &amp; Physical Correctness</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#accuracy">Accuracy</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-time-steps-and-cfl-condition">Variable Time-Steps and CFL Condition</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#implicitation">Implicitation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#surface-oscillations-wiggles">Surface Oscillations (Wiggles)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#residual-mass-errors">Residual Mass Errors</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#divergence">Divergence</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tidal-flats">Tidal Flats</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#discretization-scheme">Discretization Scheme</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exceeding-maximum-iterations">Exceeding Maximum Iterations</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bayesian-calibration">Bayesian Calibration</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Sebastian Schwindt, Beatriz Negreiros, Federica Scolari, Ricardo Barros
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>