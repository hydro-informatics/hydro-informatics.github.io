

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>QGIS Tutorial &#8212; Hydro-Informatics</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script src="../_static/tabs.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"TeX": {"Macros": {"N": "\\mathbb{N}", "floor": ["\\lfloor#1\\rfloor", 1], "bmat": ["\\left[\\begin{array}"], "emat": ["\\end{array}\\right]"]}}, "options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'geopy/use-qgis';</script>
    <link rel="canonical" href="https://hydro-informatics.com/geopy/use-qgis.html" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Process Drone (UAV) Imagery" href="drone-processing.html" />
    <link rel="prev" title="Geospatial Data" href="geospatial-data.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/icon.jpg" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/icon.jpg" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../lectures/classroom.html">The Virtual Classroom</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../lectures/principles.html">Principles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lectures/lectures.html">Lectures and Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lectures/take_seat.html">Take a Seat</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../get-started/software.html">Software Resources</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../get-started/vm.html">Virtual Machines and Linux</a></li>

<li class="toctree-l2"><a class="reference internal" href="../get-started/ide.html">Integrated Development Environments (IDEs)</a></li>




<li class="toctree-l2"><a class="reference internal" href="../python-basics/pyinstall.html">Python (Installation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/git.html">Version Control : git</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/geo.html">Geospatial Software</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/install-openfoam.html">OpenFOAM (Installation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/install-telemac.html">TELEMAC (Installation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/others.html">Other Software Resources</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Python Basics</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../python-basics/python.html">First Steps</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../jupyter/pybase.html">Hello Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../jupyter/pyerror.html">Errors, Logging, and Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../jupyter/pyloop.html">Loops and Conditional Statements</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../python-basics/modularize.html">Object Orientation</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../jupyter/pyfun.html">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../jupyter/pypckg.html">Packages, Modules and Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../jupyter/classes.html">Object Orientation and Classes</a></li>

</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../python-basics/data-handling.html">Data and File Handling</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../jupyter/pynum.html">Data Files, NumPy &amp; Pandas</a></li>





<li class="toctree-l2"><a class="reference internal" href="../jupyter/xml.html">Structured Data (XML, xlsx &amp; JSON)</a></li>

<li class="toctree-l2"><a class="reference internal" href="../jupyter/pyplot.html">Plotting</a></li>

</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../jupyter/pystyle.html">Code Style and Conventions</a></li>

<li class="toctree-l1"><a class="reference internal" href="../jupyter/gui.html">Graphical User Interfaces (GUIs)</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../exercises/python-exercises.html">Python Exercises</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../exercises/ex-ms.html">1d Hydraulics (Manning-Strickler Formula)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../exercises/ex-sp.html">Reservoir Volume (Sequent Peak Algorithm)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../exercises/ex-floods.html">Flood Return Periods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../exercises/ex-sediment.html">1d Sediment Transport</a></li>
<li class="toctree-l2"><a class="reference internal" href="../exercises/ex-gui.html">Create a GUI</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Geospatial Analysis</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="geospatial-data.html">Geospatial Data</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">QGIS Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="drone-processing.html">Process Drone (UAV) Imagery</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="geo-python.html">Geospatial Python</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="geo-pckg.html">Geospatial Open Source Python Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../jupyter/geo-shp.html">Shapefile (Vector) Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../jupyter/geo-raster.html">Raster (Grid) Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../jupyter/geo-convert.html">Vectorize and Rasterize</a></li>
<li class="toctree-l2"><a class="reference internal" href="../jupyter/geo-arcpy.html">The Commercial arcpy Library</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../exercises/geo-exercises.html">Exercises</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../exercises/ex-geco.html">Script a Habitat Suitability Map</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Numerical Modeling</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../numerics/numerical-modeling.html">Principles</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../numerics/basement.html">BASEMENT</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../numerics/pre-qgis-bm.html">Pre-processing with QGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../numerics/basement2d.html">Run and Check a Steady 2d Simulation</a></li>



</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../numerics/telemac.html">TELEMAC</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../numerics/pre-slf-tm.html">Pre-processing</a></li>


<li class="toctree-l2 has-children"><a class="reference internal" href="../numerics/telemac2d.html">Telemac2d</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../numerics/telemac2d-steady.html">Steady 2d</a></li>



<li class="toctree-l3"><a class="reference internal" href="../numerics/telemac2d-unsteady.html">Unsteady 2d</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../numerics/telemac3d.html">Telemac3d</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../numerics/telemac3d-slf.html">Steady 3d (SLF - Selafin)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../numerics/telemac3d-med.html">Steady 3d (MED and Salome)</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../numerics/telemac-gaia.html">Gaia (Morphodynamics)</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../numerics/gaia-coupling.html">Introduction and Coupling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../numerics/gaia-basics.html">Basic Setup of Gaia</a></li>
<li class="toctree-l3"><a class="reference internal" href="../numerics/gaia-bedload.html">Bedload</a></li>
<li class="toctree-l3"><a class="reference internal" href="../numerics/gaia-suspended.html">Suspended Load</a></li>
<li class="toctree-l3"><a class="reference internal" href="../numerics/gaia-run.html">Run and Analyze</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../numerics/openfoam/of-intro.html">OpenFOAM</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../numerics/openfoam/of-tutorial-multiphase.html">Multiphase Solver (interFoam Tutorial)</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../numerics/openfoam/of-tutorial-multiphase-mesh.html">Geometry and Mesh Generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../numerics/openfoam/of-tutorial-multiphase-setup.html">Case set-up</a></li>




<li class="toctree-l3"><a class="reference internal" href="../numerics/openfoam/of-tutorial-multiphase-run.html">Run OpenFOAM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../numerics/openfoam/of-tutorial-multiphase-post.html">Post-processing</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Data Science</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../datascience/data-science.html">Fundamentals (Coming soon)</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../datascience/py-requirements.html">Python Requirements</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../datascience/data-prepro.html">Data Pre-Processing</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-17"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../datascience/data-types.html">The Nature of Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../datascience/data-cleaning.html">Dataset Cleaning</a></li>
<li class="toctree-l3"><a class="reference internal" href="../datascience/dimensional-analysis.html">Dimensional Analysis</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../datascience/machinelearning.html">Machine Learning (ML)</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-18"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../datascience/supervised-learning.html">Supervised Learning</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-19"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../datascience/linear-models.html">Linear Models</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-20"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../datascience/linear-classification.html">Linear Classification</a></li>
<li class="toctree-l4"><a class="reference internal" href="../datascience/linear-regression.html">Linear Regression</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../datascience/non-linear-models.html">Non-linear models</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-21"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../datascience/kernelized-supervised-models.html">Kernels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../datascience/morphology-predictor-svm.html">Support Vector Machine (SVM)</a></li>


<li class="toctree-l4"><a class="reference internal" href="../datascience/three-based-methods.html">Three-based methods (Coming soon)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../datascience/neural-networks.html">Neural Networks (Coming soon)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datascience/unsupervised-learning.html">Unsupervised Learning (Coming soon)</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../documentation/documentation.html">How to Markdown and Document</a></li>
<li class="toctree-l1"><a class="reference internal" href="../documentation/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../documentation/notation.html">Notation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../documentation/bibliography.html">References</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../exercises/docs-exercises.html">Exercises</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-22"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../exercises/ex-git.html">Git and Markdown</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Troubleshoot</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../troubleshoot/dbg-programming.html">Programming Tools and IDEs</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-23"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../troubleshoot/dbg-anaconda.html">Debugging Anaconda</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshoot/dbg-python.html">Debugging Python Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshoot/dbg-jupyter.html">Debugging Jupyter</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../troubleshoot/dbg-numerical-models.html">Numerical Models</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-24"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../troubleshoot/dbg-basement.html">Debugging BASEMENT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshoot/dbg-telemac.html">Debugging TELEMAC</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../troubleshoot/dbg-os.html">Operating Systems (Linux and VMs)</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-25"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../troubleshoot/dbg-linux.html">Debugging Debian Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshoot/dbg-vm.html">Debugging Virtual Machines</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../troubleshoot/dbg-scilife.html">Science Life Hacks</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-26"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../troubleshoot/dbg-zotero.html">Zotero Utilities</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">About</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../terms/license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../terms/disclaimer.html">Disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../documentation/contributors.html">Contributors</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/hydro-informatics/jupyter-python-course" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/geopy/use-qgis.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>QGIS Tutorial</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#first-project">First Project</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#panels-toolbars-and-plugins">Panels, Toolbars, and Plugins</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#basemaps-for-qgis-google-or-open-street-maps-worldmap-tiles">Basemaps for QGIS (Google or Open Street Maps Worldmap Tiles)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-shapefile">Create a Shapefile</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-point-shapefile">Create a Point Shapefile</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-line-shapefile">Create a Line Shapefile</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-polygon-shapefile">Create a Polygon Shapefile</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conversion-rasterize-polygon-to-raster">Conversion: Rasterize (Polygon to Raster)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#polygonize">Polygonize</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-rasters">Working with Rasters</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#qgis-raster-calculator-map-algebra">QGIS Raster Calculator (Map Algebra)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#raster-to-xyz">Raster to XYZ</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-layout-and-pdf-jpg-or-other-maps">Create Layout and PDF / JPG (or other) Maps</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pyqgis-qgis-and-python">PyQGIS: QGIS and Python</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="qgis-tutorial">
<span id="id1"></span><h1>QGIS Tutorial<a class="headerlink" href="#qgis-tutorial" title="Permalink to this headline">#</a></h1>
<div class="admonition-requirements admonition">
<p class="admonition-title">Requirements</p>
<p>This tutorial is designed for <strong>beginners</strong> and has embedded videos featuring the text descriptions in every section. Before diving into this tutorial make sure to install <a class="reference internal" href="../get-started/geo.html#qgis-install"><span class="std std-ref">QGIS</span></a>.</p>
<div class="dropdown tip admonition">
<p class="admonition-title">Expand to watch the video for installing QGIS</p>
<p>Find for explanation in the <a class="reference internal" href="../get-started/geo.html#qgis-install"><span class="std std-ref">QGIS</span></a> section in this eBook.</p>
<iframe width="701" height="394" src="https://www.youtube-nocookie.com/embed/_0_NOKi-RxY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> <p>Sebastian Schwindt <a href="https://www.youtube.com/@hydroinformatics">@hydroinformatics on YouTube</a>.</p>
</div>
<div class="attention dropdown admonition">
<p class="admonition-title">If you read: <em>Videos not showing up (Firefox Can’t Open This Page)</em>…</p>
<p>If videos are not displaying, this might be caused by strict privacy settings. To resolve the issue, either open the video links by clicking on the <strong>Open Site in New Window</strong> button or by changing browser privacy settings (e.g., in <a class="reference external" href="https://support.mozilla.org/en-US/questions/1108783">Mozilla Firefox</a>).</p>
</div>
</div>
<section id="first-project">
<span id="qgis-project"></span><h2>First Project<a class="headerlink" href="#first-project" title="Permalink to this headline">#</a></h2>
<p>Once you installed QGIS, launch the program and walk through the following steps to make fundamental settings:</p>
<ul class="simple">
<li><p>Open <em>QGIS</em></p></li>
<li><p>Create a new project (<strong>New Empty Project</strong>)</p></li>
<li><p>Verify <strong>Project Properties</strong>:</p>
<ul>
<li><p>In the top menu go to <strong>Project</strong> &gt; <strong>Properties</strong></p></li>
<li><p>Set the Coordinate Reference System <strong>CRS</strong> to <strong>EPSG:4326</strong>:</p>
<ul>
<li><p>WGS84 (Coordinate Reference System) Bounds: -180.0000, -90.0000, 180.0000, 90.0000</p></li>
<li><p>Projected Bounds: -180.0000, -90.0000, 180.0000, 90.0000</p></li>
<li><p>Scope: Horizontal component of a 3d system. Used by the GPS satellite navigation system and for NATO military geodetic surveying.</p></li>
<li><p>Last Revised: Aug. 27, 2007</p></li>
<li><p>Area: World</p></li>
</ul>
</li>
<li><p>Learn more at <a class="reference external" href="http://epsg.io">http://epsg.io</a></p>
<ul>
<li><p>Retrieve point coordinates in any CRS format</p></li>
<li><p>Convert between different CRSs (e.g., convert 48.745, 9.103 from EPSG 3857 to EPSG 4326)</p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Save</strong> the project as <strong>qgis-project.qgz</strong> in a new <strong>qgis-exercise</strong> folder</p></li>
</ul>
<div class="admonition-project-setup-video admonition">
<p class="admonition-title">Project setup (video)</p>
<iframe width="701" height="394" src="https://www.youtube-nocookie.com/embed/7_3QqbFonLg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Sebastian Schwindt<a href="https://www.youtube.com/@hydroinformatics">@hydroinformatics on YouTube</a>.</p>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>All files created in this tutorial can be downloaded from the <a class="reference external" href="https://github.com/Ecohydraulics/qgis-tutorial">QGIS tutorial repository</a>.</p>
</div>
</section>
<section id="panels-toolbars-and-plugins">
<span id="qgis-tbx-install"></span><h2>Panels, Toolbars, and Plugins<a class="headerlink" href="#panels-toolbars-and-plugins" title="Permalink to this headline">#</a></h2>
<p>Follow the below illustrated instructions to enable the <em>QGIS</em> <em>Toolbox</em>.</p>
<figure class="align-default" id="qgis-tbx">
<img alt="enable QGIS toolbox" src="../_images/qgis-tbx.png" />
<figcaption>
<p><span class="caption-number">Fig. 18 </span><span class="caption-text">Open QGIS’ Toolbox window from the main menu.</span><a class="headerlink" href="#qgis-tbx" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>The conversion between geospatial data types and numerical (computational) grids can be facilitated with plugins. To install any plugin in <em>QGIS</em>, go to the <code class="docutils literal notranslate"><span class="pre">Plugins</span></code> menu &gt; <code class="docutils literal notranslate"><span class="pre">Manage</span> <span class="pre">and</span> <span class="pre">Install</span> <span class="pre">Plugins...</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">All</span></code> tab &gt; <code class="docutils literal notranslate"><span class="pre">Search...</span></code> for a relevant plugin and install it.</p>
<p>In the context of river analysis, the following plugins are recommended and used at multiple places on this website:</p>
<div class="admonition-qgis-plugins-for-hydro-informatics admonition" id="qgis-plugins">
<p class="admonition-title">QGIS plugins for hydro-informatics</p>
<ul class="simple">
<li><p>The <em>Crayfish</em> plugin for post-processing of numerical model output.</p></li>
<li><p>The <em>BASEmesh2</em> plugin provides routines for creating computational meshes for numerical simulations with <a class="reference internal" href="../numerics/basement.html#chpt-basement"><span class="std std-ref">BASEMENT</span></a>.</p></li>
<li><p>The <em>PostTelemac</em> plugin enables geospatial visualization and conversions of numerical model results produced with <a class="reference internal" href="../numerics/telemac.html#chpt-telemac"><span class="std std-ref">TELEMAC</span></a>.</p></li>
</ul>
</div>
<p>BASEmesh is only one (very well working) mesh generator for QGIS and <a class="reference internal" href="#tab-mesh-plugins"><span class="std std-numref">Tab. 2</span></a> lists of other plugins for generating computational meshes for numerical models along with target file formats and models</p>
<table class="table" id="tab-mesh-plugins">
<caption><span class="caption-number">Table 2 </span><span class="caption-text">A list of QGIS mesh generator plugins.</span><a class="headerlink" href="#tab-mesh-plugins" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Mesh Plugin Name and Link</p></th>
<th class="head"><p>Model Compatibility</p></th>
<th class="head"><p>Output Mesh File Format</p></th>
<th class="head"><p>Mesh Characteristics</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="http://geuz.org/gmsh">GMSH</a> (<a class="reference external" href="https://github.com/ccorail/qgis-gmsh/wiki">Wiki</a>)</p></td>
<td><p><a class="reference external" href="https://www.opencascade.com/open-cascade-technology/">Open CASCADE Technology</a> / <a class="reference internal" href="../get-started/install-openfoam.html#openfoam-install"><span class="std std-ref">OpenFOAM</span></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">*.geo</span></code>, <code class="docutils literal notranslate"><span class="pre">*.stl</span></code>, <code class="docutils literal notranslate"><span class="pre">*.msh</span></code></p></td>
<td><p>3d finite elements (<a class="reference external" href="http://ngsolve.org/">Netgen</a> and <a class="reference external" href="https://www.mmgtools.org/">Mmg3d</a>), compatibility with <a class="reference internal" href="../get-started/install-openfoam.html#salome-install"><span class="std std-ref">SALOME</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://plugins.qgis.org/plugins/gribdownloader/">QGribDownloader</a></p></td>
<td><p><a class="reference external" href="https://opengribs.org/">OpenGribs / XyGrib</a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">*.GRIB</span></code></p></td>
<td><p>Purpose: Meteorological/atmospheric modelling</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://plugins.qgis.org/plugins/tuflow/">TUFLOW</a></p></td>
<td><p><a class="reference external" href="https://tuflow.com/">TUFLOW</a> (proprietary)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">*.2dm</span></code> (among others), conversion to <code class="docutils literal notranslate"><span class="pre">.slf</span></code> possible with Crayfish</p></td>
<td><p>TUFLOW automatically generates meshes (finite volumes / finite differences)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://github.com/jdugge/MeshTools">MeshTools</a></p></td>
<td><p><a class="reference internal" href="../numerics/basement.html#chpt-basement"><span class="std std-ref">BASEMENT</span></a>, Hydro FT/AS (proprietary), indirectly: <a class="reference internal" href="../numerics/telemac.html#chpt-telemac"><span class="std std-ref">TELEMAC</span></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">*.2dm</span></code> (conversion to <code class="docutils literal notranslate"><span class="pre">.slf</span></code> possible with Crayfish)</p></td>
<td><p>Tweaks into multiple mesh algorithms (among others: <span id="id2">Shewchuk [<a class="reference internal" href="../documentation/bibliography.html#id1340" title="Jonathan Richard Shewchuk. Triangle: Engineering a 2D quality mesh generator and Delaunay triangulator. In Ming C. Lin and Dinesh Manocha, editors, Applied Computational Geometry Towards Geometric Engineering, Lecture Notes in Computer Science, 203–222. Berlin, Heidelberg, 1996. Springer. URL: https://link.springer.com/chapter/10.1007/BFb0014497, doi:10.1007/BFb0014497.">She96</a>]</span>)</p></td>
</tr>
<tr class="row-even"><td><p>DEMto3D</p></td>
<td><p>Raster to STL (style) files for Blender</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">*.geo</span></code>, <code class="docutils literal notranslate"><span class="pre">*.stl</span></code>, <code class="docutils literal notranslate"><span class="pre">*.msh</span></code></p></td>
<td><p>Create digital twins in Blender</p></td>
</tr>
</tbody>
</table>
</section>
<section id="basemaps-for-qgis-google-or-open-street-maps-worldmap-tiles">
<span id="basemap"></span><h2>Basemaps for QGIS (Google or Open Street Maps Worldmap Tiles)<a class="headerlink" href="#basemaps-for-qgis-google-or-open-street-maps-worldmap-tiles" title="Permalink to this headline">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A fast internet connection is required for adding online basemaps.</p>
</div>
<p>To add a base map (e.g., satellite data, streets, or administrative boundaries), go to the <strong>Browser</strong>, right-click on <strong>XYZ Tiles</strong>, select <strong>New Connection…</strong>, add a name, and a URL of an online base map. Once the new connection is added, it can be added to a <em>QGIS</em> project by drag and drop just like any other geodata layer. The below figure illustrates the procedure of adding a new connection and its XYZ tiles as a layer to the project. To overlay multiple basemaps (or any other layer), <strong>right-click on a layer</strong>, then <strong>Layer Properties</strong> &gt; <strong>Transparency</strong> &gt; modify the <strong>Opacity</strong> (e.g., to 50%).</p>
<figure class="align-default" id="id3">
<img alt="basemap" src="../_images/qgis-basemap.png" />
<figcaption>
<p><span class="caption-number">Fig. 19 </span><span class="caption-text">Add a base map to QGIS: (1) locate the Browser (2) right-click on XYZ-Tiles and select New Connection… (3) enter a Name and a URL (see below table) for the new connection, click OK (4) drag and drop the new tile (here: Google Satellite) into the Layers Panel.</span><a class="headerlink" href="#id3" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<div class="tip dropdown admonition">
<p class="admonition-title">Expand to watch the video tutorial on basemaps</p>
<iframe width="701" height="394" src="https://www.youtube-nocookie.com/embed/GJsiEdMzCeQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Sebastian Schwindt<a href="https://www.youtube.com/@hydroinformatics">@hydroinformatics on YouTube</a>.</p>
</div>
<p>The following URL can be used for retrieving online XYZ tiles (more URLs can be found on the internet).</p>
<table class="table" id="basemap-providers">
<caption><span class="caption-number">Table 3 </span><span class="caption-text">Providers of XYZ basemap tiles</span><a class="headerlink" href="#basemap-providers" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Provider (Layer Name)</p></th>
<th class="head"><p>URL</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ESRI World Imagery</p></td>
<td><p><a class="reference external" href="https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/%7Bz%7D/%7By%7D/%7Bx%7D">https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}</a></p></td>
</tr>
<tr class="row-odd"><td><p>ESRI Street</p></td>
<td><p><a class="reference external" href="https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/%7Bz%7D/%7By%7D/%7Bx%7D">https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}</a></p></td>
</tr>
<tr class="row-even"><td><p>ESRI Topo</p></td>
<td><p><a class="reference external" href="https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/%7Bz%7D/%7By%7D/%7Bx%7D">https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}</a></p></td>
</tr>
<tr class="row-odd"><td><p>Google Satellite</p></td>
<td><p><a class="reference external" href="https://mt1.google.com/vt/lyrs=s&amp;amp;x=%7Bx%7D&amp;amp;y=%7By%7D&amp;amp;z=%7Bz%7D">https://mt1.google.com/vt/lyrs=s&amp;x={x}&amp;y={y}&amp;z={z}</a></p></td>
</tr>
<tr class="row-even"><td><p>Google Street</p></td>
<td><p><a class="reference external" href="https://mt1.google.com/vt/lyrs=m&amp;amp;x=%7Bx%7D&amp;amp;y=%7By%7D&amp;amp;z=%7Bz%7D">https://mt1.google.com/vt/lyrs=m&amp;x={x}&amp;y={y}&amp;z={z}</a></p></td>
</tr>
<tr class="row-odd"><td><p>OpenStreetMap (OSM)</p></td>
<td><p><a class="reference external" href="http://tile.openstreetmap.org/%7Bz%7D/%7Bx%7D/%7By%7D.png">http://tile.openstreetmap.org/{z}/{x}/{y}.png</a></p></td>
</tr>
<tr class="row-even"><td><p>OSM Black and White</p></td>
<td><p><a class="reference external" href="http://tiles.wmflabs.org/bw-mapnik/%7Bz%7D/%7Bx%7D/%7By%7D.png">http://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png</a></p></td>
</tr>
</tbody>
</table>
<div class="tip admonition">
<p class="admonition-title">Coordinate reference systems of basemaps</p>
<p>Most basemaps are provided in the <code class="docutils literal notranslate"><span class="pre">EPSG:3857</span> <span class="pre">-WGS84</span> <span class="pre">/</span> <span class="pre">Pseudo</span> <span class="pre">Mercator</span></code> coordinate system (CRS). To use custom geodata products, make sure that all other layers have the same coordinate system. Read more about coordinate systems and projections in the <a class="reference internal" href="geospatial-data.html#geospatial-data"><span class="std std-ref">Geospatial Data</span></a> and <a class="reference internal" href="../jupyter/geo-shp.html#prj-shp"><span class="std std-ref">shapefile projection</span></a> sections.</p>
</div>
</section>
<section id="create-a-shapefile">
<h2>Create a Shapefile<a class="headerlink" href="#create-a-shapefile" title="Permalink to this headline">#</a></h2>
<p>This section guides through the creation of a point, a line, and a polygon <a class="reference internal" href="geospatial-data.html#shp"><span class="std std-ref">Shapefile</span></a> (vector data). To read more about such vector data and other spatially explicit data types, read the section on <a class="reference internal" href="geospatial-data.html#geospatial-data"><span class="std std-ref">Geospatial Data</span></a>.</p>
<section id="create-a-point-shapefile">
<span id="create-point-shp"></span><h3>Create a Point Shapefile<a class="headerlink" href="#create-a-point-shapefile" title="Permalink to this headline">#</a></h3>
<p>Start with loading satellite imagery and a street basemap (see above) in the layers pane. Zoom on central Europe and roughly locate Stuttgart in Southwest Germany. Find the heavily impaired Neckar River in the North of Stuttgart and move in the upstream direction (i.e., Eastern direction), pass the cities of Esslingen and Plochingen until you get to the confluence of the Neckar and the Fils rivers. From there, follow the Fils River in the upstream direction for a couple of hundred meters and locate the PEGELHAUS (i.e., a gauging station at the Fils River - <a class="reference external" href="https://www.hvz.baden-wuerttemberg.de/pegel.html?id=00025">click to visit</a>). To facilitate finding the gauging station in the future, we will now create a point shapefile as explained in the following video and the analogous instructions below the video.</p>
<div class="admonition-create-point-shapefile-video admonition">
<p class="admonition-title">Create point shapefile video</p>
<iframe width="701" height="394" src="https://www.youtube-nocookie.com/embed/k2LqPM6wicA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Sebastian Schwindt<a href="https://www.youtube.com/@hydroinformatics">@hydroinformatics on YouTube</a>.</p>
</div>
<ul class="simple">
<li><p>In the QGIS top menu go to <strong>Layer</strong> &gt; <strong>Create Layer</strong> &gt; <strong>New Shapefile Layer</strong></p>
<ul>
<li><p>Define a filename (e.g., <strong>gauges.shp</strong> - may not be longer than 13 characters), for instance, in a folder called <em>qgis-exercise</em>.</p></li>
<li><p>Geometry type: <code class="docutils literal notranslate"><span class="pre">MultiPoint</span></code></p></li>
<li><p>Additional dimensions: <code class="docutils literal notranslate"><span class="pre">Z(+M</span> <span class="pre">Values)</span></code></p></li>
<li><p>Add two new fields:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">StnName</span></code> (<em>Text data</em>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">StnID</span></code>  (<em>Whole number</em>)</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Edit/draw points</p>
<ul>
<li><p><strong>Toggle Editing</strong> (i.e., enable by clicking on the yellow pen <img alt="../_images/yellow-pen.png" src="../_images/yellow-pen.png" />) &gt; <strong>Add Point Feature</strong> <img alt="../_images/sym-add-point.png" src="../_images/sym-add-point.png" /></p></li>
<li><p>Click on the PEGELHAUS to draw a point and set</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">StnName</span></code>: <code class="docutils literal notranslate"><span class="pre">PlochingenFils</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">StnID</span></code>: <code class="docutils literal notranslate"><span class="pre">00025</span></code></p></li>
</ul>
</li>
<li><p>Add more points if you like.</p></li>
<li><p>Finalize the edits by clicking on <strong>Save Layer Edits</strong> <img alt="../_images/sym-save-edits.png" src="../_images/sym-save-edits.png" /> &gt; <strong>Stop (Toggle) Editing</strong> by clicking on the yellow pen <img alt="../_images/yellow-pen.png" src="../_images/yellow-pen.png" /> symbol.</p></li>
</ul>
</li>
<li><p>Improve the visualization by changing the symbology:</p>
<ul>
<li><p><strong>Double-click on</strong> the gauges <strong>layer</strong> &gt; <strong>Symbology</strong></p></li>
<li><p>Highlight <strong>Simple Marker</strong>, change to <strong>+</strong> symbol, and change fill color and size.</p></li>
<li><p>Highlight <strong>Marker</strong> and change the <strong>Opacity</strong></p></li>
<li><p>Click <strong>Apply</strong> and <strong>OK</strong></p></li>
</ul>
</li>
<li><p>Verify the point settings in the <strong>Attribute Table</strong> (right-click on the <em>gauges</em> layer and select <strong>Attribute Table</strong>).</p></li>
</ul>
</section>
<section id="create-a-line-shapefile">
<span id="create-line-shp"></span><h3>Create a Line Shapefile<a class="headerlink" href="#create-a-line-shapefile" title="Permalink to this headline">#</a></h3>
<p>Create a <strong>Line Shapefile</strong> called <strong>CenterLine.shp</strong> to draw a centerline of the Fils <span class="math notranslate nohighlight">\(\pm\)</span> 200 m around the PEGELHAUS gauge, similar to the above-created point shapefile. Add one <em>text</em> field and call it <code class="docutils literal notranslate"><span class="pre">RiverName</span></code>. Then draw a line along the Fils River starting 200 m upstream and ending 200 m downstream of the PEGELHAUS by following the river on the <strong>OpenStreetMap</strong> layer. See more in the following video.</p>
<div class="admonition-create-line-shapefile-video admonition">
<p class="admonition-title">Create Line shapefile video</p>
<iframe width="701" height="394" src="https://www.youtube-nocookie.com/embed/yNuiIlPsguQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Sebastian Schwindt<a href="https://www.youtube.com/@hydroinformatics">@hydroinformatics on YouTube</a>.</p>
</div>
</section>
<section id="create-a-polygon-shapefile">
<span id="create-polygon-shp"></span><h3>Create a Polygon Shapefile<a class="headerlink" href="#create-a-polygon-shapefile" title="Permalink to this headline">#</a></h3>
<p>To delineate different zones of roughness (e.g., as needed for a two-dimensional numerical model), create a <strong>Polygon Shapefile</strong> called <strong>FlowAreas.shp</strong>. The file will contain polygons zoning the considered section of the Fils into the floodplain and main channel bed. Name the first field <code class="docutils literal notranslate"><span class="pre">AreaType</span></code> (type: <em>Text</em>) and the second field <code class="docutils literal notranslate"><span class="pre">ManningN</span></code> (type: <em>Decimal Number</em>). See more in the following video and the instructions below the video.</p>
<div class="admonition-create-polygon-video admonition">
<p class="admonition-title">Create Polygon video</p>
<iframe width="701" height="394" src="https://www.youtube-nocookie.com/embed/zTrowT0ULfo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Sebastian Schwindt<a href="https://www.youtube.com/@hydroinformatics">@hydroinformatics on YouTube</a>.</p>
</div>
<p>To draw the polygons:</p>
<ul class="simple">
<li><p>Enable snapping to avoid gaps between the floodplain and main channel polygons</p>
<ul>
<li><p>Activate the <strong>snapping toolbar</strong>: <strong>View</strong> &gt; <strong>Toolbars</strong> &gt; <strong>Snapping Toolbar</strong></p></li>
<li><p>Enable snapping from <strong>Snapping toolbar</strong> &gt; <strong>Enable Snapping</strong> and <strong>Avoid Polygon Overlapping</strong></p></li>
</ul>
</li>
<li><p>Start drawing by clicking on the map (right-click finalizes Polygon)</p></li>
<li><p>Draw one polygon of the main channel and after finalizing set:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">AreaType</span></code>: <code class="docutils literal notranslate"><span class="pre">MainChannel</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ManningN</span></code>: <code class="docutils literal notranslate"><span class="pre">0.028</span></code></p></li>
</ul>
</li>
<li><p>Draw two more polygons of the right-bank (RB) and left-bank (LB) floodplains, and set:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">AreaType</span></code>: <code class="docutils literal notranslate"><span class="pre">FloodPlainRB</span></code> and <code class="docutils literal notranslate"><span class="pre">FloodPlainLB</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ManningN</span></code>: <code class="docutils literal notranslate"><span class="pre">0.05</span></code> (both)</p></li>
</ul>
</li>
<li><p>If you made a drawing error, use either the <em>Attribute Table</em> to select and delete entire polygons, or use the vertex tool <img alt="../_images/sym-vertex-tool.png" src="../_images/sym-vertex-tool.png" /> from the menu bar.</p></li>
<li><p>After drawing all polygons, <strong>Save edits</strong> and <strong>Toggle Editing</strong> (deactivate).</p></li>
<li><p>To improve the visualization, modify the <strong>Symbology</strong> to <strong>Categorized</strong> as a function of the <code class="docutils literal notranslate"><span class="pre">AreaType</span></code> field: Keep <strong>Random Colors</strong> &gt; Click on <strong>Classify</strong> &gt; <strong>Apply</strong> and if you like the visualization, click <strong>OK</strong>.</p></li>
</ul>
</section>
</section>
<section id="conversion-rasterize-polygon-to-raster">
<h2>Conversion: Rasterize (Polygon to Raster)<a class="headerlink" href="#conversion-rasterize-polygon-to-raster" title="Permalink to this headline">#</a></h2>
<p>Many numerical models required that roughness is provided in <a class="reference internal" href="geospatial-data.html#raster"><span class="std std-ref">Gridded Cell (Raster) Data</span></a> format. To this end, this section features the conversion of the above-created polygon shapefile (<em>FlowAreas.shp</em>) to a roughness <a class="reference internal" href="geospatial-data.html#raster"><span class="std std-ref">Gridded Cell (Raster) Data</span></a>. The following video and the instructions below the video describe how the conversion works.</p>
<div class="admonition-rasterization-video admonition">
<p class="admonition-title">Rasterization video</p>
<iframe width="701" height="394" src="https://www.youtube-nocookie.com/embed/IRLwYSUnjcE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Sebastian Schwindt<a href="https://www.youtube.com/@hydroinformatics">@hydroinformatics on YouTube</a>.</p>
</div>
<p>To convert a geospatial vector dataset, use the <em>Rasterize</em> tool:</p>
<ul class="simple">
<li><p>In the QGIS menu bar make sure to enable the <em>Processing Toolbox</em> panel (<strong>View</strong> &gt; <strong>Panels</strong> &gt; <strong>Processing Toolbox</strong>)</p></li>
<li><p>In the <strong>Processing Toolbox</strong> &gt; search (tap) <strong>Rasterize</strong> &gt; select <strong>Rasterize (vector to raster)</strong></p></li>
</ul>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>If the <em>Crayfish</em> plugin is installed, an additional <em>Rasterize</em> tool will show up, which we will not use in this tutorial (i.e., make sure to select <em>Rasterize (vector to raster)</em> ).</p>
</div>
<ul class="simple">
<li><p>In the <strong>Rasterize (Vector to Raster)</strong> window set:</p>
<ul>
<li><p><strong>Input layer</strong>: <code class="docutils literal notranslate"><span class="pre">FlowAreas</span></code></p></li>
<li><p><strong>Field to use for a burn-in value</strong>: <code class="docutils literal notranslate"><span class="pre">ManningN</span></code></p></li>
<li><p><strong>Output raster size units</strong>: <code class="docutils literal notranslate"><span class="pre">Pixels</span></code></p></li>
<li><p><strong>Width/Horizontal resolution</strong>: <code class="docutils literal notranslate"><span class="pre">100</span></code> (the smaller, the coarser the raster)</p></li>
<li><p><strong>Height/Vertical resolution</strong>: <code class="docutils literal notranslate"><span class="pre">100</span></code> (the smaller, the coarser the raster)</p></li>
<li><p>… scroll down …</p></li>
<li><p><strong>Output extent</strong>: click on the <strong>…</strong> button &gt; <strong>Calculate from Layer</strong> &gt; <code class="docutils literal notranslate"><span class="pre">FlowAreas</span></code></p></li>
<li><p><strong>Rasterized</strong> (FILE NAME) &gt; click on the <strong>…</strong> button &gt; <strong>Save to File…</strong> &gt; <code class="docutils literal notranslate"><span class="pre">roughness.tif</span></code></p></li>
<li><p>Click <strong>Run</strong></p></li>
</ul>
</li>
<li><p>Set the <strong>Symbology</strong> to <strong>Singleband pseudocolor</strong> with <strong>Interpolation</strong>: <code class="docutils literal notranslate"><span class="pre">Discrete</span></code>, <strong>Colorramp</strong>: <code class="docutils literal notranslate"><span class="pre">Magma</span></code>, <strong>Mode</strong>: <code class="docutils literal notranslate"><span class="pre">Equal</span> <span class="pre">Interval</span></code> &gt; <strong>Apply</strong>. If the visualization is satisfactory, click <strong>OK</strong>.</p></li>
</ul>
<div class="tip admonition">
<p class="admonition-title">File conversion with Python</p>
<p>The conversion between geospatial data types can be facilitated by using Python. Read the section on <a class="reference internal" href="../jupyter/geo-convert.html#py-conversion"><span class="std std-ref">Vectorize and Rasterize</span></a> to learn more.</p>
</div>
</section>
<section id="polygonize">
<h2>Polygonize<a class="headerlink" href="#polygonize" title="Permalink to this headline">#</a></h2>
<p>The inverse operation of <em>Rasterize</em> is called <strong>Raster to Vector</strong>, which is documented at <a class="reference external" href="https://docs.qgis.org/testing/en/docs/training_manual/complete_analysis/raster_to_vector.html">https://docs.qgis.org</a>. The creation of a Polygon shapefile from a Raster is described in the video below. The essential steps are:</p>
<ul class="simple">
<li><p>Go to <strong>Raster</strong> (top menu) &gt; <strong>Conversion</strong> &gt; <strong>Polygonize (Raster to Vector)…</strong></p></li>
<li><p><strong>Input layer</strong>: select the raster to convert</p></li>
<li><p><strong>Band number</strong>: the raster band for inferring the polygon value (i.e., field in the attribute table); some notes:</p>
<ul>
<li><p>this algorithm will round decimals to integers (see video below)</p></li>
<li><p>alternatively, search <em>Raster pixels to polygons</em> in the <em>Processing Toolbox</em>, but it will create an excessive number of polygons</p></li>
</ul>
</li>
<li><p><strong>Name of the field to create</strong>: select a name for the polygon value field in the attribute table (<strong>no more than 10 characters</strong>)</p></li>
<li><p><strong>Vectorized</strong>: define the directory and name for the new polygon shapefile</p></li>
<li><p>Click <strong>Run</strong></p></li>
</ul>
<div class="admonition-polygonize-video admonition">
<p class="admonition-title">Polygonize (video)</p>
<iframe width="701" height="394" src="https://www.youtube-nocookie.com/embed/r9MwkKvUD-k" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Sebastian Schwindt<a href="https://www.youtube.com/@hydroinformatics">@hydroinformatics on YouTube</a>.</p>
<p>Get the <a class="reference external" href="https://github.com/hydro-informatics/materials-bm/raw/main/rasters/mannings-n.tif"><strong>mannings-n GeoTIFF here</strong></a>.</p>
</div>
<p>To convert a Raster to a line/point (vector) shapfile, the options are the <a class="reference external" href="https://docs.qgis.org/3.28/en/docs/training_manual/processing/interp_contour.html">Contour</a> tool (<strong>Raster</strong> menu &gt; <strong>Extraction</strong> &gt; <strong>Contour</strong>) or the <a class="reference external" href="https://docs.qgis.org/3.28/en/docs/user_manual/processing_algs/qgis/vectorcreation.html#raster-pixels-to-points">Raster pixels to points</a> algorithm (<strong>Processing</strong> toolbox &gt; enter <code class="docutils literal notranslate"><span class="pre">raster</span> <span class="pre">pixels</span> <span class="pre">to</span> <span class="pre">points</span></code>). Also, have a look at the tutorials on <a class="reference internal" href="../jupyter/geo-convert.html#raster2line"><span class="std std-ref">geo file conversion with Python</span></a>.</p>
</section>
<section id="working-with-rasters">
<h2>Working with Rasters<a class="headerlink" href="#working-with-rasters" title="Permalink to this headline">#</a></h2>
<section id="qgis-raster-calculator-map-algebra">
<h3>QGIS Raster Calculator (Map Algebra)<a class="headerlink" href="#qgis-raster-calculator-map-algebra" title="Permalink to this headline">#</a></h3>
<p>Some models preferably (default use) Manning’s <em>n</em>, others use the Strickler roughness coefficient <span class="math notranslate nohighlight">\(k_{st}\)</span>, which is the inverse of Manning’s <em>n</em> (i.e., <span class="math notranslate nohighlight">\(k_{st} = 1/n\)</span> - read more about roughness coefficients in the <a class="reference internal" href="../exercises/ex-ms.html#ex-1d-hydraulics"><span class="std std-ref">1d Hydraulics (Manning-Strickler Formula)</span></a> exercise). Thus, transforming a Strickler roughness raster into a Manning roughness raster requires performing an algebraic raster (pixel-by-pixel) operation. The next video and the instructions below the video feature the usage of the QGIS <strong>Raster Calculator</strong> to perform such algebraic operations.</p>
<div class="admonition-raster-calculator-video admonition">
<p class="admonition-title">Raster calculator (video)</p>
<iframe width="701" height="394" src="https://www.youtube-nocookie.com/embed/DOkV03uij9k" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Sebastian Schwindt<a href="https://www.youtube.com/@hydroinformatics">@hydroinformatics on YouTube</a>.</p>
</div>
<p>Start with opening <strong>Raster Calculator</strong> from QGIS menu bar (<strong>Raster</strong> &gt; <strong>Raster Calculator…</strong>). Then, convert the above-created <em>roughness.tif</em> raster of Manning’s <em>n</em> values to a Strickler roughness raster:</p>
<ul class="simple">
<li><p>Define an <strong>Output layer</strong> (e.g., <em>qgis-exercise/roughness-stickler.tif</em>) and keep the <strong>Output format</strong> of <strong><a class="reference internal" href="../documentation/glossary.html#term-GeoTIFF"><span class="xref std std-term">GeoTIFF</span></a></strong>.</p></li>
<li><p>Optionally select a layer extent corresponding to the above-created <em>roughness.tif</em> raster.</p></li>
<li><p>In the <strong>Raster Calculator Expression</strong> frame type <strong>1</strong>, then click on the <strong>/</strong> button (<strong>Operators</strong> frame), then select <strong>roughness&#64;1</strong> from the <strong>Raster Bands</strong> frame.</p></li>
<li><p>The <strong>Raster Calculator Expression</strong> frame should now contain: <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">/</span> <span class="pre">&quot;roughness&#64;1&quot;</span></code>, where the <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> sign refers to band number <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></li>
<li><p>Click <strong>OK</strong> to run <em>Raster Calculator</em>.</p></li>
<li><p>After successful calculation, optionally modify the symbology of the new layer (<em>roughness-stickler</em>).</p></li>
</ul>
<div class="tip admonition">
<p class="admonition-title">Batch-process geodata</p>
<p>To implement a tailored raster calculator for batch-processing of raster files with Python read the <a class="reference internal" href="../exercises/ex-geco.html#py-raster-calculator"><span class="std std-ref">Create and Combine HSI Rasters</span></a> section in the <a class="reference internal" href="../exercises/ex-geco.html#ex-geco"><span class="std std-ref">Script a Habitat Suitability Map</span></a> exercise.</p>
</div>
</section>
<section id="raster-to-xyz">
<span id="make-xyz"></span><h3>Raster to XYZ<a class="headerlink" href="#raster-to-xyz" title="Permalink to this headline">#</a></h3>
<p>Scientific data formats, such as <a class="reference internal" href="../documentation/glossary.html#term-HDF"><span class="xref std std-term">HDF</span></a>, work best with raw geospatial datasets like <code class="docutils literal notranslate"><span class="pre">*.xyz</span></code> files. A <code class="docutils literal notranslate"><span class="pre">.*xyz</span></code> file contains s only X, Y, and Z coordinates of points (i.e., point clouds) with or without a simple header. For instance, this eBook uses <code class="docutils literal notranslate"><span class="pre">*.xyz</span></code> data for the elevation interpolation of a computational mesh for the scientific numerical modeling software <a class="reference internal" href="../numerics/telemac.html#chpt-telemac"><span class="std std-ref">TELEMAC</span></a>. To generate a <code class="docutils literal notranslate"><span class="pre">*.xyz</span></code> from a <a class="reference internal" href="../documentation/glossary.html#term-GeoTIFF"><span class="xref std std-term">GeoTIFF</span></a> raster use the following workflow:</p>
<ul class="simple">
<li><p>In the <strong>Layers</strong> panel make sure to have raster layer imported for conversion and <strong>identify its No-Data</strong> value (<strong>Layer Properties</strong> &gt; <strong>Information</strong> &gt; <strong>Bands</strong> section &gt; <strong>No-Data</strong> field show by default <code class="docutils literal notranslate"><span class="pre">-9999</span></code> in QGIS).</p></li>
<li><p>In QGIS top menu go to <strong>Raster</strong> &gt; <strong>Conversion</strong> &gt; <strong>Translate (Convert Format)…</strong></p></li>
<li><p>In the <strong>Translate (Convert Format)</strong> window, make the following settings:</p>
<ul>
<li><p><strong>Input layer</strong> =  the raster (e.g., a <a class="reference internal" href="../documentation/glossary.html#term-DEM"><span class="xref std std-term">DEM</span></a>) to convert</p></li>
<li><p><strong>Advanced Parameters</strong> frame &gt; <strong>Output data type</strong> &gt; select <strong>Float32</strong> (corresponds to single precision in numerical models)</p></li>
<li><p><strong>Converted</strong> &gt; <strong>…</strong> button (at the end of the line) &gt; <strong>Save to File…</strong> &gt; define a <strong>File name</strong> such as <code class="docutils literal notranslate"><span class="pre">dem-points</span></code> and select <code class="docutils literal notranslate"><span class="pre">XYZ</span> <span class="pre">files</span> <span class="pre">(*.xyz)</span></code> in the <strong>Save as type</strong> field.</p></li>
<li><p><strong>Save</strong> and <strong>Run</strong> the translation (conversion).</p></li>
</ul>
</li>
</ul>
<p>The resulting <code class="docutils literal notranslate"><span class="pre">*.xyz</span></code> file contains also points with <strong>No-Data</strong> to fill void spaces in the rectangular image of the <a class="reference internal" href="../documentation/glossary.html#term-GeoTIFF"><span class="xref std std-term">GeoTIFF</span></a> (which QGIS did recognize as no-data pixels). The no-data points may make the <code class="docutils literal notranslate"><span class="pre">*.xyz</span></code> file unnecessarily heavy, in particular, when it is a <a class="reference internal" href="../documentation/glossary.html#term-DEM"><span class="xref std std-term">DEM</span></a> of a near-census natural river. To eliminate the unnecessary no data points, open the <code class="docutils literal notranslate"><span class="pre">*.xyz</span></code> file in spreadsheet software, such as <a class="reference internal" href="../get-started/others.html#lo"><span class="std std-ref">Calc in LibreOffice</span></a> and use the <em>Sort</em> tool (in <strong>Calc</strong> highlight all points go to <strong>Data</strong> &gt; <strong>Sort…</strong>) to sort by <code class="docutils literal notranslate"><span class="pre">Z</span></code> values (largest to smallest) and then delete all rows that have the above-identified <strong>No-Data</strong> value (<code class="docutils literal notranslate"><span class="pre">-9999</span></code>) as <code class="docutils literal notranslate"><span class="pre">Z</span></code> value. Save the <code class="docutils literal notranslate"><span class="pre">*.xyz</span></code> file and close the spreadsheet software.</p>
<div class="tip dropdown admonition">
<p class="admonition-title">Shapefile to XYZ</p>
<p><strong>Shapefiles</strong> do not have to be converted to <a class="reference internal" href="../documentation/glossary.html#term-GeoTIFF"><span class="xref std std-term">GeoTIFF</span></a> to create an <code class="docutils literal notranslate"><span class="pre">*.xyz</span></code> file. To create a <code class="docutils literal notranslate"><span class="pre">*.xyz</span></code> file from a <strong>shapefile</strong>:</p>
<ul class="simple">
<li><p>Right click on the shapefile in the <strong>Layer</strong> panel &gt; <strong>Export</strong> &gt; <strong>Save Feature As…</strong>.</p></li>
<li><p>Select <strong>Comma Separated Value (<a class="reference internal" href="../documentation/glossary.html#term-CSV"><span class="xref std std-term">CSV</span></a>)</strong> in the <strong>Format</strong> field.</p></li>
<li><p>Define a <strong>File name</strong> on clicking on the <strong>…</strong> button.</p></li>
<li><p>In the <strong>Layer Options</strong> frame, select <strong>AS_XYZ</strong> in the <strong>GEOMETRY</strong> field and keep all other defaults.</p></li>
<li><p>Click <strong>OK</strong> to convert to <a class="reference internal" href="../documentation/glossary.html#term-CSV"><span class="xref std std-term">CSV</span></a>.</p></li>
<li><p>Open the <a class="reference internal" href="../documentation/glossary.html#term-CSV"><span class="xref std std-term">CSV</span></a> file in a <a class="reference internal" href="../get-started/others.html#npp"><span class="std std-ref">text editor</span></a> and use its <em>find and replace</em> function (usually <code class="docutils literal notranslate"><span class="pre">CTRL</span></code>+<code class="docutils literal notranslate"><span class="pre">F</span></code> or <code class="docutils literal notranslate"><span class="pre">CTRL</span></code>+<code class="docutils literal notranslate"><span class="pre">H</span></code>) to replace all COMMA <code class="docutils literal notranslate"><span class="pre">,</span></code> by a space symbol <code class="docutils literal notranslate"> </code>. Note that this action requires that the comma has not been used as decimal separator.</p></li>
<li><p>Save the <a class="reference internal" href="../documentation/glossary.html#term-CSV"><span class="xref std std-term">CSV</span></a> file as <code class="docutils literal notranslate"><span class="pre">*.xyz</span></code> file.</p></li>
</ul>
</div>
<p>To finalize the <code class="docutils literal notranslate"><span class="pre">*.xyz</span></code> file, open it in a <a class="reference internal" href="../get-started/others.html#npp"><span class="std std-ref">text editor</span></a> and add a header. For instance, use the following header to work with <a class="reference internal" href="../get-started/install-telemac.html#bluekenue"><span class="std std-ref">Blue Kenue</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">:</span><span class="n">FileType</span> <span class="n">xyz</span>  <span class="n">ASCII</span>  <span class="n">EnSim</span> <span class="mf">1.0</span>
<span class="p">:</span><span class="n">EndHeader</span>
</pre></div>
</div>
<p>Save the changes. The <code class="docutils literal notranslate"><span class="pre">*.xyz</span></code> file is now slim and ready to use, for instance, for the <a class="reference internal" href="../numerics/pre-slf-tm.html#get-dem-xyz"><span class="std std-ref">TELEMAC pre-processing</span></a>.</p>
</section>
</section>
<section id="create-layout-and-pdf-jpg-or-other-maps">
<h2>Create Layout and PDF / JPG (or other) Maps<a class="headerlink" href="#create-layout-and-pdf-jpg-or-other-maps" title="Permalink to this headline">#</a></h2>
<p>Georeferenced images in <a class="reference internal" href="../documentation/glossary.html#term-GeoTIFF"><span class="xref std std-term">GeoTIFF</span></a> or other raster formats, possibly with super-positioned shapefiles on top, are handy and flexible for use with geospatial software, such as QGIS, but not appropriate for presentations or reports. For presentation purposes, geospatial imagery or maps should preferably be exported to common formats, such as the <strong>P</strong>ortable <strong>D</strong>ocument <strong>F</strong>ormat (PDF) or <strong>JPEG/JPG</strong>. To create commonly formatted maps with QGIS, first, a new (print) layout needs to be created, which can then be exported to a common map format (e.g., along with a legend, a scale bar, and a North arrow). The following video and the descriptions below the video guide through the map creation process with QGIS.</p>
<div class="admonition-layout-creation-video admonition">
<p class="admonition-title">Layout creation (video)</p>
<iframe width="701" height="394" src="https://www.youtube-nocookie.com/embed/hmTByzVPVF0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Sebastian Schwindt<a href="https://www.youtube.com/@hydroinformatics">@hydroinformatics on YouTube</a>.</p>
</div>
<p>Start with creating a new print layout by clicking on the <strong>Project</strong> drop-down menu, then select <strong>New Print Layout</strong>. In the new print layout prepare the map and export the map as follows:</p>
<ul class="simple">
<li><p>Set a <strong>Layout title</strong> (e.g., <em>exercise-layout</em>).</p></li>
<li><p>In the new (<em>exercise-layout</em>) Layout:</p>
<ul>
<li><p>Go to <strong>Add Item</strong> &gt; <strong>Add Map</strong>.</p></li>
<li><p>Draw a rectangle that will contain the map.</p></li>
<li><p><strong>Add Item</strong> &gt; <strong>Add Scale Bar</strong></p></li>
<li><p>To control scales and units shown in the scale bar:</p>
<ul>
<li><p>In <strong>Items</strong> panel, highlight <code class="docutils literal notranslate"><span class="pre">&lt;Scalebar&gt;</span></code> and find the <strong>Item Properties</strong> tab below.</p></li>
<li><p>In the <strong>Item Properties</strong> tab modify units to your convenience.</p></li>
</ul>
</li>
<li><p><strong>Add Item</strong> &gt; <strong>Add Legend</strong></p></li>
<li><p>To control elements of the legend:</p>
<ul>
<li><p>In <strong>Items</strong> panel, highlight <code class="docutils literal notranslate"><span class="pre">&lt;Legend&gt;</span></code> and find the <strong>Item Properties</strong> tab below.</p></li>
<li><p>In the <strong>Item Properties</strong> tab, find <strong>Legend Items</strong> &gt; disable <strong>Auto update</strong> &gt; <strong>remove</strong> <em>OpenStreetMap</em> and <em>Google Satellite</em>.</p></li>
</ul>
</li>
<li><p>Toggle through other <strong>Items</strong> in the <strong>Add Item</strong> menu bar (e.g., <strong>Arrow</strong> for Northing).</p></li>
</ul>
</li>
<li><p><strong>Save</strong> the layout project (from top menu <strong>Layout</strong> &gt; <strong>Save Project</strong>)</p></li>
<li><p>Export the map to common formats:</p>
<ul>
<li><p>For JPG or PNG: <strong>Layout</strong> &gt; <strong>Export as Image</strong></p></li>
<li><p>For PDF: <strong>Layout</strong> &gt; <strong>Export as PDF</strong></p></li>
<li><p>Optional, for SVG-vector graphs: <strong>Layout</strong> &gt; <strong>Export as SVG</strong></p></li>
</ul>
</li>
</ul>
<p>QGIS has many other capacities, but this fundamental tutorial should have provided you with the necessary knowledge to leverage the power of QGIS for many applications.</p>
</section>
<section id="pyqgis-qgis-and-python">
<span id="pygis"></span><h2>PyQGIS: QGIS and Python<a class="headerlink" href="#pyqgis-qgis-and-python" title="Permalink to this headline">#</a></h2>
<p>The QGIS graphical user interface (GUI) provides a Python command line (<strong>Plugins</strong> &gt; <strong>Python Console</strong>), which enables to automate almost any mouse click in the GUI. This Python command line is referred to as <strong>PyQGIS</strong> and the <a class="reference external" href="https://docs.qgis.org/latest/en/docs/pyqgis_developer_cookbook/intro.html">QGIS developer docs</a> provide instructions on how to import and run standalone Python scripts outside of the QGIS GUI. Here is the basic Python template to run a PyQGIS script:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qgis.core</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c1"># define qgis installation location</span>
<span class="n">QgsApplication</span><span class="o">.</span><span class="n">setPrefixPath</span><span class="p">(</span><span class="s2">&quot;/path/to/qgis/installation&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>


<span class="c1"># instantiate a QgsApplication, where the second argument (False) disables the GUI</span>
<span class="n">qgs</span> <span class="o">=</span> <span class="n">QgsApplication</span><span class="p">([],</span> <span class="kc">False</span><span class="p">)</span>


<span class="c1"># load providers</span>
<span class="n">qgs</span><span class="o">.</span><span class="n">initQgis</span><span class="p">()</span>

<span class="c1"># HERE GOES YOUR CUSTOM CODE</span>

<span class="c1"># exit the QGIS application to remove the provider and layer registries from memory</span>
<span class="n">qgs</span><span class="o">.</span><span class="n">exitQgis</span><span class="p">()</span>
</pre></div>
</div>
<p>However, when opening your system’s terminal or Anaconda Prompt to run a PyQGIS code, you may get stuck on the first line of code already: <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">qgis.core</span> <span class="pre">import</span> <span class="pre">*</span></code> yields <code class="docutils literal notranslate"><span class="pre">ImportError:</span> <span class="pre">No</span> <span class="pre">module</span> <span class="pre">named</span> <span class="pre">qgis.core</span></code>. According to the <a class="reference external" href="https://docs.qgis.org/latest/en/docs/pyqgis_developer_cookbook/intro.html">QGIS developer docs</a>, this error happens because your system’s Python does not know where the PyQGIS environment lives. To make your terminal recognize PyQGIS, take the following action according to your system:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-0">
Linux</label><div class="sd-tab-content docutils">
<p>Open Terminal and install <code class="docutils literal notranslate"><span class="pre">python-qgis</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">python</span><span class="o">-</span><span class="n">qgis</span>
</pre></div>
</div>
<p>After the successful installation, try if you can now import <code class="docutils literal notranslate"><span class="pre">qgis.core</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>USER@computer:~$ python
Python 3.8.10 (default, Nov 14 2022, 12:59:47) 
[GCC 9.4.0] on linux
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; from qgis.core import *
&gt;&gt;&gt; exit()
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">qgis.core</span> <span class="pre">import</span> <span class="pre">*</span></code> did not throw any error, you are all set and can stop reading. <strong>Otherwise</strong>, find and open your <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> file (Debian/Ubuntu/Mint: <code class="docutils literal notranslate"><span class="pre">/home/USERNAME/.bashrc</span></code>). Note that files starting with a <code class="docutils literal notranslate"><span class="pre">.</span></code> name are hidden on Linux and become visible by toggling with simultaneously pressing the <code class="docutils literal notranslate"><span class="pre">CTRL</span></code>+<code class="docutils literal notranslate"><span class="pre">H</span></code> keys.</p>
<p>At the bottom of <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> add the following</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">PYTHONPATH</span><span class="o">=/&lt;</span><span class="n">qgispath</span><span class="o">&gt;/</span><span class="n">share</span><span class="o">/</span><span class="n">qgis</span><span class="o">/</span><span class="n">python</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;qgispath&gt;</span></code> expression should be replaced by the location where the PyQGIS environment lives. To find out where that is, tap (in Terminal):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dpkg</span><span class="o">-</span><span class="n">query</span> <span class="o">-</span><span class="n">L</span> <span class="n">python</span><span class="o">-</span><span class="n">qgis</span>
</pre></div>
</div>
<p>This points to where PyQGIS lives, which, on Ubuntu/Mint typically is: <code class="docutils literal notranslate"><span class="pre">/usr/lib/python3/dist-packages/</span></code></p>
<p>Thus, in this case add to <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">PYTHONPATH</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">/</span><span class="n">dist</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span>
</pre></div>
</div>
<p>Afterward, log out and re-login to your system (i.e., reload <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code>). The command <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">qgis.core</span> <span class="pre">import</span> <span class="pre">*</span></code> should now work in Python.</p>
</div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-1">
Windows</label><div class="sd-tab-content docutils">
<p>Make sure your system knows the where PyGIS lives by adding the following line to the Environment Variables (Windows 10: <strong>My Computer</strong> &gt; <strong>Properties</strong> &gt; <strong>Advanced System Settings</strong> &gt; <strong>Environment Variables</strong>). Replace <code class="docutils literal notranslate"><span class="pre">&lt;qgispath&gt;</span></code> with the path where QGIS lives on your system.</p>
<ul class="simple">
<li><p>Variable name = <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code></p></li>
<li><p>Variable value = <code class="docutils literal notranslate"><span class="pre">C:\&lt;qgispath&gt;\python</span></code></p></li>
</ul>
<p>Or use the Windows prompt:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="n">PYTHONPATH</span><span class="o">=</span><span class="n">C</span><span class="p">:</span>\<span class="o">&lt;</span><span class="n">qgispath</span><span class="o">&gt;</span>\<span class="n">python</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "hydro-informatics/jupyter-python-course",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./geopy"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="geospatial-data.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Geospatial Data</p>
      </div>
    </a>
    <a class="right-next"
       href="drone-processing.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Process Drone (UAV) Imagery</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#first-project">First Project</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#panels-toolbars-and-plugins">Panels, Toolbars, and Plugins</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#basemaps-for-qgis-google-or-open-street-maps-worldmap-tiles">Basemaps for QGIS (Google or Open Street Maps Worldmap Tiles)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-shapefile">Create a Shapefile</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-point-shapefile">Create a Point Shapefile</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-line-shapefile">Create a Line Shapefile</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-polygon-shapefile">Create a Polygon Shapefile</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conversion-rasterize-polygon-to-raster">Conversion: Rasterize (Polygon to Raster)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#polygonize">Polygonize</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-rasters">Working with Rasters</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#qgis-raster-calculator-map-algebra">QGIS Raster Calculator (Map Algebra)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#raster-to-xyz">Raster to XYZ</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-layout-and-pdf-jpg-or-other-maps">Create Layout and PDF / JPG (or other) Maps</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pyqgis-qgis-and-python">PyQGIS: QGIS and Python</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            <div class="bd-footer-content__inner">
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Sebastian Schwindt, Beatriz Negreiros, Federica Scolari, Ricardo Barros
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div></div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>